<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>我的网页</title>
    <link rel="stylesheet" href="css/b.css">
    <!--<link rel="stylesheet" href="css/shiyan1_loading.css">-->
    <script src="//at.alicdn.com/t/font_553183_kr9q6mq2jspds4i.js"></script>
    <style type="text/css">
        .icon {
            width: 1em; height: 1em;
            vertical-align: -0.15em;
            fill: currentColor;
            overflow: hidden;
        }
    </style>
    <script type="text/javascript" src="javascript/js_shiyan1.js"></script>
</head>
<body>
<div id="site_button" class="site_welcome active">
    <div class="loading"></div>
</div>


<div id="topNarBar" class="topNarBar">
    <div class="topNarBar-inner clearfix">
        <a class="logo" href="#" alt="logo" style="float: left">
            <span class="rs">RS</span><span class="card">card</span>
        </a>
        <nav class="menu" style="float: right;">
            <ul class="clearfix">
                <li>
                    <a href="#textCard">关于</a>
                </li>
                <li>
                    <a href="#skills">技能</a>
                </li>
                <li>
                    <a href="#portfolio">作品</a>
                    <ul class="submenu">
                        <li>作品1</li>
                        <li>作品2</li>
                        <li>作品3</li>
                    </ul>
                </li>
                <li>
                    <a href="#">博客</a>
                    <ul class="submenu">
                        <li>博客1</li>
                        <li>博客2</li>
                        <li>博客3</li>
                    </ul>
                </li>
                <li>
                    <a href="#">日历</a>
                </li>
                <li>
                    <a href="#">联系方式</a>
                </li>
                <li>
                    <a href="#">其他</a>
                </li>
            </ul>
        </nav>

    </div>

</div>

<div class="banner">
    <div class="mask"></div>
</div>

<main class="rentext">
    <div data-x id="textCard" class="textCard">
        <div class="textTop clearfix">

            <div class="picture"><img src="img/ww.jpg" alt="头像">
            </div>

            <div class="profile">
                <span class="welcome">Hello<span class="helloTriangle"></span></span>
                <h1>胡阳林</h1>
                <p>前端开发工程师</p>
                <hr>
                <dl>
                    <dt>年龄</dt>
                    <dd>25</dd>
                    <dt>所在城市</dt>
                    <dd>广州</dd>
                    <dt>邮箱</dt>
                    <dd>314773165@qq.com</dd>
                    <dt>手机</dt>
                    <dd>18378401191</dd>
                </dl>
            </div>
        </div>

        <div class="textBootom">
            <footer class="media">
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                </a>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                </a>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                </a>

            </footer>
        </div>
    </div>
    <p class="button-baoguo">
        <a id="button" href="yinyang.html" target="_blank" download>下载 pdf 简历</a>
    </p>

    <p class="self">花开半夏，叶落一秋，思念，情动心难眠。<br>我闭上眼睛再睁开眼睛，一天已经过去了。如果我闭上眼睛，不再睁开眼睛了，我这辈子也就过去了。</p>
</main>



<section data-x id="skills" class=" skills">
    <h2>技能</h2>
    <ol class="clearfix ">
        <li>
            <h3>
                HTML5 &amp; CSS3
            </h3>
            <div class="progressBar">
                <div class="progress"></div>
            </div>
        </li>
        <li>
            <h3>
                JavaScript
            </h3>
            <div class="progressBar">
                <div class="progress" style="width: 75%;"></div>
            </div>
        </li>
        <li>
            <h3>
                JQuery
            </h3>
            <div class="progressBar">
                <div class="progress" style="width: 70%;"></div>
            </div>
        </li>
        <li>
            <h3>
                Vue
            </h3>
            <div class="progressBar">
                <div class="progress" style="width: 65%;"></div>
            </div>
        </li>
        <li>
            <h3>
                React
            </h3>
            <div class="progressBar">
                <div class="progress" style="width: 85%;"></div>
            </div>
        </li>
        <li>
            <h3>
                Http
            </h3>
            <div class="progressBar">
                <div class="progress"></div>
            </div>
        </li>
    </ol>
</section>


<section data-x id="portfolio" class="portfolio">
    <h2>作品集</h2>
    <nav>
        <ol class="clearfix">
            <li id="portfolio1">所有</li>
            <li id="portfolio2">框架</li>
            <li id="portfolio3">原生JS&amp;CSS</li>
        </ol>
        <div id="portfolioBar" class="portfolioBar state-1">
            <div class="portfolioBar-inner"></div>
        </div>
    </nav>
    <script>
        portfolio1.onclick=function(){
            portfolioBar.className = "portfolioBar state-1"
        }
        portfolio2.onclick=function(){
            portfolioBar.className = "portfolioBar state-2"
        }
        portfolio3.onclick=function(){
            portfolioBar.className = "portfolioBar state-3"
        }

    </script>
    <div class="jobs" style="height: 597px;">
        <div class="big" style="top: 0px;left: 0px;">
            <img src="img/a1.jpg" alt="作品1">
        </div>
        <div class="small" style="top: 0px;left: 644px;">
            <img src="img/a2.jpg" alt="作品2">
        </div>
        <div class="small" style="top: 299px;left: 644px;">
            <img src="img/a3.jpg" alt="作品3">
        </div>
    </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js"></script>
<script>
    //加载时候的动画
    /*setTimeout(function(){
     site_button.classList.remove('active')
     },100)*/
//    site_button.classList.remove('active')
    //导航栏的滚动出现的动画

    let  speciaTags = document.querySelectorAll('[data-x]')
    for(let i =0;i<speciaTags.length;i++){
        speciaTags[i].classList.add('offset')
    }
    findEle()
    window.onscroll = function(x){
        if(window.scrollY > 0){
            topNarBar.classList.add('sticky')
        }else{
            topNarBar.classList.remove('sticky')
        }
        findEle()
    }

    function findEle(){
        let  speciaTags = document.querySelectorAll('[data-x]')
        let minIndex = 0
        for(let i=1;i<speciaTags.length;i++){
            if(Math.abs(speciaTags[i].offsetTop-window.scrollY) < Math.abs(speciaTags[minIndex].offsetTop-window.scrollY)){
                minIndex = i
            }
        }
        //离窗口最近的位置
        speciaTags[minIndex].classList. remove('offset')
        let id = speciaTags[minIndex].id
        let a= document.querySelector('a[href="#'+ id +'"]')
        let li = a.parentNode
        let brothersAndMe =li.parentNode.children
        for (let i=0;i<brothersAndMe.length;i++){
            brothersAndMe[i].classList.remove('heightLight')
        }
        li.classList.add('heightLight')
    }



    //导航横线与下滑菜单动画
    let liTags = document.querySelectorAll('nav.menu > ul > li')
    for (let i=0;i<liTags.length;i++) {
        liTags[i].onmouseenter = function (x) {
            x.currentTarget.classList.add('active')
        }
        liTags[i].onmouseleave = function (x) {
            x.currentTarget.classList.remove('active')
        }
    }
    //锚点动画
    let aTags =document.querySelectorAll('nav.menu > ul > li > a')
    for(let i=0;i<aTags.length;i++){
        aTags[i].onclick = function(x){
            x.preventDefault()
            let a = x.currentTarget
            let href = a.getAttribute('href')
            let element=document.querySelector(href)
            let top = element.offsetTop
            /*let top=document.querySelector(x.currentTarget.getAttribute('href')).offsetTop*/


            function animate(time) {
                requestAnimationFrame(animate);
                TWEEN.update(time);
            }
            requestAnimationFrame(animate);
            let currentTop = window.scrollY//页面到视口的高度
            let targetTop = top - 63//目标高度
            let s=targetTop-currentTop//路程
            var t=Math.abs((s/100)*300)//时间
            if (t>700){t=700}

            var coords = { y:currentTop }; // 起始位置
            var tween = new TWEEN.Tween(coords)
                    .to({ y: targetTop }, t)//结束位置与时间
                    .easing(TWEEN.Easing.Quadratic.Out)//缓动类型
                    .onUpdate(function() {
                        window.scrollTo(0,coords.y)
                    })
                    .start();
        }
    }


</script>
</body>
</html>